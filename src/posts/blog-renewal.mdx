---
title: "ブログのリニューアルをしました！"
published: true
date: "2022-04-19"
tags: ["日記", "code lab blog", "nextjs", "mdx"]
emoji: "📝"
---

リモートという環境とインドア派の性格も相まって完全運動不足。  
どうも、[@shota1995m](https://twitter.com/shota1995m)です！

約2日かけてブログのリニューアルをしました！🎉 （わーい  
今回のリニューアル内容とかきっかけとか、自分の頭の中を整理しつつ書いていきます！

# 構成

今回のリニューアル、リポジトリからまるごと全部作り替えているので、構成から説明していこうかと思います。  

## リニューアル前の構成

- Next.js
- GraphQL
- Prisma
- PlanetScale
- MUI 

---

### フロントエンド

フレームワークは`Next.js`。  
作成時にちょうど`Next.js`を使う仕事が来た為採用。  
UIはデザインに時間を使いたくないという思いもあり、コンポーネントが揃っている`MUI`を採用。  

### API

APIは`Next.js`の`API Routes`に`Apollo Server`を乗っけて`GraphQL`を使いました。  
過去に`Gatsby.js`を使用してブログを作ったことがあり、そのときに`GraphQL`の体験が良かったので採用しました。

### バックエンド

バックエンドは`Prisma`と`PlanetScale`。 
`Typescript`を採用していたこともあり、型付け最強の`Prisma`を採用。  
最初はDBサーバー立ててましたが、コストと`Prisma`のマイグレーション機能をもっと効率良く出来なかなと考えて、  
`Prisma Data Platform`と`PlanetScale`に乗り換えました。

---

これが、リニューアル前のブログの構成です。

このブログは記事を書くことを目的として作成していましたが、  
実験できる場としても使っていた為、ただのブログなのにごちゃごちゃした構成となっていました。  


## リニューアル後

- Next.js
- MDX
- TailwindCSS

---

### フロントエンド

`Next.js`から`Remix`への変更も考えましたが、今後仕事で使えるノウハウを貯める為にも、採用されるか分からない`Remix`は今回は見送りました。  
（といいつつ`Remix`は触ってみたかったので、別のサービス作成時に使ってみたので、後日記事にできればと思います！）  

デザインは今まで`MUI`を採用していましたが、そのまま使用すると`MUI`の色が強すぎる為今回はパスしました。
デザインの調整に時間がかかること、さらには僕が`CSS`の知識もあることから何を組み合わせたらどうなるかを把握している為、`TailwindCSS`を採用しました。  
実は`TailwindCSS`は食わず嫌いをしていて、`Bootstrap`の雰囲気があるため避けていました。  
今回使ってみて、使いやすすぎた為今後は候補に入れていこうと思ってます。（人気なものには理由があるんですね！  

### API

今回は`GraphQL`を剥がしたので、APIは基本使っていません。（OGP画像の生成とかだけ）

### バックエンド

`PlanetScale`から使わないなら停止するぞと通知がくるので、特に変更しなくても再ビルドかけて記事データを読みに行かせたりしてたのでめんどくさくなり、  
再度DBって必要か？と考えたところ、管理するコストを考えてGitで記事を管理してしまえという事になり、`Prisma`と`PlanetScale`を辞める事にしました。  

---

リニューアル後はDBをとっぱらい、フロントのみでほぼ完結する構成になったのでメンテナンスコストを大幅に削ることができ、  
長い間放置しても怒られないようになりました！（最高

## 今回のリニューアルポイント

### Timeline
### 目次
### 絵文字を使って画像がなくても楽しい感じに！
### GitHubをオープンに！
